# ğŸ—ï¸ PATHFINDER ARCHITECTURE DIAGRAM

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        PATHFINDER PLATFORM                              â”‚
â”‚                     (January 7, 2026 - COMPLETE)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND (React/TypeScript)                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ASSESSMENT FLOW                                                 â”‚   â”‚
â”‚  â”‚ â€¢ OnboardingStep â†’ InterestStep â†’ PersonalityStep â†’ ReviewStep  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Inputs: academicTrack (science|art|commercial)                  â”‚   â”‚
â”‚  â”‚         interests, personality, preferences                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â†“                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ RESULTS PAGE                                                    â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ 1. Share Token Check â”€â”€â†’ Load from DB if ?share=TOKEN          â”‚   â”‚
â”‚  â”‚ 2. Access Check â”€â”€â†’ Lock/Unlock Results                         â”‚   â”‚
â”‚  â”‚ 3. Course List â”€â”€â†’ Filtered by COURSE_DEPARTMENT_MAP           â”‚   â”‚
â”‚  â”‚ 4. University Recs â”€â”€â†’ getUniversitiesForCourse()             â”‚   â”‚
â”‚  â”‚ 5. Share Button â”€â”€â†’ generateShareToken()                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â†“                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ COURSE CARD COMPONENT                                           â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â€¢ Course name & match %                                          â”‚   â”‚
â”‚  â”‚ â€¢ Top 3 universities with scores                                 â”‚   â”‚
â”‚  â”‚ â€¢ Program strengths                                              â”‚   â”‚
â”‚  â”‚ â€¢ Dynamic rank display                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BUSINESS LOGIC LAYER (TypeScript)                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚ â”‚ recommendationsEngine               â”‚                                  â”‚
â”‚ â”‚ â”œâ”€â”€ calculateRecommendations()      â”‚  Filter by                       â”‚
â”‚ â”‚ â”‚   â””â”€â”€ Filter by COURSE_           â”‚  COURSE_DEPARTMENT_MAP          â”‚
â”‚ â”‚ â”‚       DEPARTMENT_MAP              â”‚                                  â”‚
â”‚ â”‚ â”œâ”€â”€ calculateInterestScore()        â”‚  Weighted scoring:              â”‚
â”‚ â”‚ â”œâ”€â”€ calculatePersonalityScore()     â”‚  30% interest                    â”‚
â”‚ â”‚ â”œâ”€â”€ calculateFinancialScore()       â”‚  15% personality                â”‚
â”‚ â”‚ â”œâ”€â”€ calculateLocationScore()        â”‚  20% financial                   â”‚
â”‚ â”‚ â”œâ”€â”€ calculateFutureScore()          â”‚  10% location                    â”‚
â”‚ â”‚ â””â”€â”€ calculateAcademicScore()        â”‚  10% future                      â”‚
â”‚ â”‚                                     â”‚  15% academic                    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                          â†“â†“â†“                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚ â”‚ universityRecommendations.ts        â”‚                                  â”‚
â”‚ â”‚ â”œâ”€â”€ getUniversitiesForCourse()      â”‚  Database Query:                â”‚
â”‚ â”‚ â”‚   â”œâ”€â”€ Check DB first              â”‚  universities_comprehensive     â”‚
â”‚ â”‚ â”‚   â””â”€â”€ Fallback hardcoded data     â”‚  + university_course_offerings  â”‚
â”‚ â”‚ â”œâ”€â”€ filterByLocation()              â”‚  Filtering:                      â”‚
â”‚ â”‚ â”‚   â””â”€â”€ Nigeria/Africa/Global       â”‚  - Nigeria (11 unis)            â”‚
â”‚ â”‚ â”œâ”€â”€ sortByRanking()                 â”‚  - Africa (+ S. Africa)         â”‚
â”‚ â”‚ â””â”€â”€ getBatchUniversitiesForCourses()â”‚  - Global (+ top world)         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                                                                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚ â”‚ accessStore.ts                      â”‚  Authentication:                â”‚
â”‚ â”‚ â”œâ”€â”€ validateAccessCode()            â”‚  1. User enters code            â”‚
â”‚ â”‚ â”œâ”€â”€ generateShareToken()            â”‚  2. Call edge function          â”‚
â”‚ â”‚ â”œâ”€â”€ loadFromShareToken()            â”‚  3. Mark as used                â”‚
â”‚ â”‚ â””â”€â”€ checkAccess()                   â”‚  4. Grant 24h access           â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DATA MAPPING LAYER                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  COURSE_DEPARTMENT_MAP (105+ mappings)                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ SCIENCE (45+ courses)      ART (35+ courses)  COMMERCIAL     â”‚        â”‚
â”‚  â”‚ â€¢ computer-science         â€¢ law              (25+ courses)  â”‚        â”‚
â”‚  â”‚ â€¢ medicine                 â€¢ mass-communication â€¢ economics   â”‚        â”‚
â”‚  â”‚ â€¢ engineering (all types)  â€¢ psychology       â€¢ accounting   â”‚        â”‚
â”‚  â”‚ â€¢ nursing                  â€¢ history          â€¢ banking      â”‚        â”‚
â”‚  â”‚ â€¢ pharmacy                 â€¢ english          â€¢ business-adm â”‚        â”‚
â”‚  â”‚ â€¢ biology, chemistry       â€¢ sociology        â€¢ marketing    â”‚        â”‚
â”‚  â”‚ â€¢ agriculture              â€¢ fine-arts        â€¢ entrepreneuriâ”‚        â”‚
â”‚  â”‚ â€¢ etc.                     â€¢ etc.             â€¢ etc.         â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND - SUPABASE (PostgreSQL + Edge Functions)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚ â”‚ DATABASE TABLES                                              â”‚         â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚ â”‚                                                              â”‚         â”‚
â”‚ â”‚ â”Œâ”€ access_codes_bank (100 rows)                            â”‚         â”‚
â”‚ â”‚ â”‚  â”œâ”€â”€ id (UUID)                                           â”‚         â”‚
â”‚ â”‚ â”‚  â”œâ”€â”€ code (TEXT, UNIQUE, INDEXED)                        â”‚         â”‚
â”‚ â”‚ â”‚  â”œâ”€â”€ is_used (BOOLEAN, INDEXED)                          â”‚         â”‚
â”‚ â”‚ â”‚  â”œâ”€â”€ used_by_email (TEXT)                                â”‚         â”‚
â”‚ â”‚ â”‚  â”œâ”€â”€ used_at (TIMESTAMP)                                 â”‚         â”‚
â”‚ â”‚ â”‚  â”œâ”€â”€ expires_at (TIMESTAMP)                              â”‚         â”‚
â”‚ â”‚ â”‚  â””â”€â”€ created_at (TIMESTAMP)                              â”‚         â”‚
â”‚ â”‚ â”‚                                                          â”‚         â”‚
â”‚ â”‚ â”œâ”€ universities_comprehensive (11 rows)                    â”‚         â”‚
â”‚ â”‚ â”‚  â”œâ”€â”€ id (UUID)                                           â”‚         â”‚
â”‚ â”‚ â”‚  â”œâ”€â”€ name (TEXT, INDEXED)                                â”‚         â”‚
â”‚ â”‚ â”‚  â”œâ”€â”€ country (TEXT, INDEXED)                             â”‚         â”‚
â”‚ â”‚ â”‚  â”œâ”€â”€ region (TEXT)                                       â”‚         â”‚
â”‚ â”‚ â”‚  â”œâ”€â”€ global_rank (INTEGER)                               â”‚         â”‚
â”‚ â”‚ â”‚  â”œâ”€â”€ country_rank (INTEGER)                              â”‚         â”‚
â”‚ â”‚ â”‚  â”œâ”€â”€ ranking_score (DECIMAL 1-100, INDEXED)              â”‚         â”‚
â”‚ â”‚ â”‚  â”œâ”€â”€ description (TEXT)                                  â”‚         â”‚
â”‚ â”‚ â”‚  â”œâ”€â”€ website (TEXT)                                      â”‚         â”‚
â”‚ â”‚ â”‚  â”œâ”€â”€ established_year (INTEGER)                          â”‚         â”‚
â”‚ â”‚ â”‚  â””â”€â”€ created_at (TIMESTAMP)                              â”‚         â”‚
â”‚ â”‚ â”‚                                                          â”‚         â”‚
â”‚ â”‚ â””â”€ university_course_offerings (40+ rows)                  â”‚         â”‚
â”‚ â”‚    â”œâ”€â”€ id (UUID)                                           â”‚         â”‚
â”‚ â”‚    â”œâ”€â”€ university_id (UUID, FOREIGN KEY, INDEXED)          â”‚         â”‚
â”‚ â”‚    â”œâ”€â”€ course_id (TEXT, INDEXED)                           â”‚         â”‚
â”‚ â”‚    â”œâ”€â”€ is_available (BOOLEAN, INDEXED)                     â”‚         â”‚
â”‚ â”‚    â”œâ”€â”€ course_ranking_score (DECIMAL 1-100)                â”‚         â”‚
â”‚ â”‚    â”œâ”€â”€ program_strength (TEXT)                             â”‚         â”‚
â”‚ â”‚    â”œâ”€â”€ year_established (INTEGER)                          â”‚         â”‚
â”‚ â”‚    â””â”€â”€ created_at (TIMESTAMP)                              â”‚         â”‚
â”‚ â”‚                                                            â”‚         â”‚
â”‚ â”œâ”€ assessment_sessions (existing, enhanced)                  â”‚         â”‚
â”‚ â”‚  â”œâ”€â”€ [existing fields]                                     â”‚         â”‚
â”‚ â”‚  â”œâ”€â”€ share_token (TEXT, UNIQUE, INDEXED)          [NEW]    â”‚         â”‚
â”‚ â”‚  â”œâ”€â”€ department (TEXT)                             [NEW]    â”‚         â”‚
â”‚ â”‚  â”œâ”€â”€ is_shared (BOOLEAN)                           [NEW]    â”‚         â”‚
â”‚ â”‚  â”œâ”€â”€ share_created_at (TIMESTAMP)                  [NEW]    â”‚         â”‚
â”‚ â”‚  â””â”€â”€ recommendations (JSONB)                       [NEW]    â”‚         â”‚
â”‚ â”‚                                                            â”‚         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ EDGE FUNCTIONS                                               â”‚     â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚ â”‚                                                              â”‚     â”‚
â”‚ â”‚ validate-access-code                                         â”‚     â”‚
â”‚ â”‚ â”œâ”€â”€ Input: { code, email }                                   â”‚     â”‚
â”‚ â”‚ â”œâ”€â”€ Logic:                                                   â”‚     â”‚
â”‚ â”‚ â”‚  1. Normalize code (uppercase, trim)                       â”‚     â”‚
â”‚ â”‚ â”‚  2. Check code exists                                      â”‚     â”‚
â”‚ â”‚ â”‚  3. Check not already used                                 â”‚     â”‚
â”‚ â”‚ â”‚  4. Check expiration (if set)                              â”‚     â”‚
â”‚ â”‚ â”‚  5. Mark as used (atomic)                                  â”‚     â”‚
â”‚ â”‚ â”‚  6. Set 24h expiration                                     â”‚     â”‚
â”‚ â”‚ â””â”€â”€ Output: { valid: bool, expiresAt, message }             â”‚     â”‚
â”‚ â”‚                                                              â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ ROW LEVEL SECURITY (RLS)                                     â”‚     â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚ â”‚                                                              â”‚     â”‚
â”‚ â”‚ access_codes_bank:                                           â”‚     â”‚
â”‚ â”‚ â€¢ SELECT: Anyone (for validation)                            â”‚     â”‚
â”‚ â”‚ â€¢ UPDATE: Service role only (mark as used)                   â”‚     â”‚
â”‚ â”‚                                                              â”‚     â”‚
â”‚ â”‚ universities_comprehensive:                                  â”‚     â”‚
â”‚ â”‚ â€¢ SELECT: Anyone (read public data)                          â”‚     â”‚
â”‚ â”‚ â€¢ INSERT/UPDATE: Admin only                                  â”‚     â”‚
â”‚ â”‚                                                              â”‚     â”‚
â”‚ â”‚ assessment_sessions:                                         â”‚     â”‚
â”‚ â”‚ â€¢ SELECT: By email OR by share token                         â”‚     â”‚
â”‚ â”‚ â€¢ UPDATE: By email only                                      â”‚     â”‚
â”‚ â”‚                                                              â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DATA FLOW EXAMPLES                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚ EXAMPLE 1: Assessment â†’ Recommendations                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ User Profile                                                â”‚          â”‚
â”‚ â”‚ â”œâ”€â”€ academicTrack: "science" â—„â”€â”€â”€â”€ Critical Field          â”‚          â”‚
â”‚ â”‚ â”œâ”€â”€ interests: {technology: 5, health: 3, ...}             â”‚          â”‚
â”‚ â”‚ â”œâ”€â”€ personality: {analytical: 1, ...}                      â”‚          â”‚
â”‚ â”‚ â””â”€â”€ preferences: {location: "nigeria", ...}                â”‚          â”‚
â”‚ â”‚                    â†“â†“â†“                                      â”‚          â”‚
â”‚ â”‚ calculateRecommendations()                                  â”‚          â”‚
â”‚ â”‚ â”œâ”€â”€ Filter: course.dept === "science" â—„â”€â”€â”€â”€ Strict         â”‚          â”‚
â”‚ â”‚ â”œâ”€â”€ Score: 30% interest + 15% personality + ...            â”‚          â”‚
â”‚ â”‚ â”œâ”€â”€ Rank: Top 20 by fit score                              â”‚          â”‚
â”‚ â”‚ â””â”€â”€ Enhance: Fetch universities for each course            â”‚          â”‚
â”‚ â”‚                    â†“â†“â†“                                      â”‚          â”‚
â”‚ â”‚ Results                                                     â”‚          â”‚
â”‚ â”‚ [                                                           â”‚          â”‚
â”‚ â”‚   {                                                         â”‚          â”‚
â”‚ â”‚     course: "computer-science",                            â”‚          â”‚
â”‚ â”‚     fitScore: 92,                                          â”‚          â”‚
â”‚ â”‚     universities: [                                         â”‚          â”‚
â”‚ â”‚       {name: "UNILAG", score: 95},                         â”‚          â”‚
â”‚ â”‚       {name: "Covenant", score: 96},                       â”‚          â”‚
â”‚ â”‚       {name: "ABU", score: 88}                             â”‚          â”‚
â”‚ â”‚     ]                                                       â”‚          â”‚
â”‚ â”‚   },                                                        â”‚          â”‚
â”‚ â”‚   ...19 more courses                                        â”‚          â”‚
â”‚ â”‚ ]                                                           â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                           â”‚
â”‚ EXAMPLE 2: Share Link                                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ 1. User clicks "Share"                                      â”‚          â”‚
â”‚ â”‚    â†“                                                        â”‚          â”‚
â”‚ â”‚ 2. generateShareToken()                                     â”‚          â”‚
â”‚ â”‚    â””â”€â”€ token = "share_1704651300000_a1b2c3d4e5"            â”‚          â”‚
â”‚ â”‚       UPDATE assessment_sessions                            â”‚          â”‚
â”‚ â”‚       SET share_token = token                               â”‚          â”‚
â”‚ â”‚       WHERE email = user_email                              â”‚          â”‚
â”‚ â”‚    â†“                                                        â”‚          â”‚
â”‚ â”‚ 3. Generate URL                                             â”‚          â”‚
â”‚ â”‚    /results?share=share_1704651300000_a1b2c3d4e5            â”‚          â”‚
â”‚ â”‚    â†“                                                        â”‚          â”‚
â”‚ â”‚ 4. User opens link on new device                            â”‚          â”‚
â”‚ â”‚    â†“                                                        â”‚          â”‚
â”‚ â”‚ 5. loadFromShareToken()                                     â”‚          â”‚
â”‚ â”‚    SELECT * FROM assessment_sessions                        â”‚          â”‚
â”‚ â”‚    WHERE share_token = token                                â”‚          â”‚
â”‚ â”‚    â†“                                                        â”‚          â”‚
â”‚ â”‚ 6. Restore session data                                     â”‚          â”‚
â”‚ â”‚    Verify expiration (< 24h)                                â”‚          â”‚
â”‚ â”‚    Set isUnlocked = true                                    â”‚          â”‚
â”‚ â”‚    â†“                                                        â”‚          â”‚
â”‚ â”‚ 7. Display full results                                     â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                           â”‚
â”‚ EXAMPLE 3: Access Code                                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ 1. User enters code "TE3BWHHULREV"                          â”‚          â”‚
â”‚ â”‚    â†“                                                        â”‚          â”‚
â”‚ â”‚ 2. validateAccessCode(code, email)                          â”‚          â”‚
â”‚ â”‚    Edge Function Query:                                     â”‚          â”‚
â”‚ â”‚    SELECT * FROM access_codes_bank                          â”‚          â”‚
â”‚ â”‚    WHERE code = 'TE3BWHHULREV'                              â”‚          â”‚
â”‚ â”‚    â†“                                                        â”‚          â”‚
â”‚ â”‚ 3. Validations                                              â”‚          â”‚
â”‚ â”‚    â”œâ”€â”€ Code exists? YES âœ“                                   â”‚          â”‚
â”‚ â”‚    â”œâ”€â”€ is_used = false? YES âœ“                               â”‚          â”‚
â”‚ â”‚    â””â”€â”€ not expired? YES âœ“ (or no expiration)                â”‚          â”‚
â”‚ â”‚    â†“                                                        â”‚          â”‚
â”‚ â”‚ 4. Mark as used (atomic)                                    â”‚          â”‚
â”‚ â”‚    UPDATE access_codes_bank                                 â”‚          â”‚
â”‚ â”‚    SET is_used = true,                                      â”‚          â”‚
â”‚ â”‚        used_by_email = 'user@example.com',                  â”‚          â”‚
â”‚ â”‚        used_at = now(),                                     â”‚          â”‚
â”‚ â”‚        expires_at = now() + 24h                             â”‚          â”‚
â”‚ â”‚    WHERE id = code_id AND is_used = false                   â”‚          â”‚
â”‚ â”‚    â†“                                                        â”‚          â”‚
â”‚ â”‚ 5. Return success                                           â”‚          â”‚
â”‚ â”‚    { valid: true, expiresAt: "2026-01-08T08:35:00Z" }      â”‚          â”‚
â”‚ â”‚    â†“                                                        â”‚          â”‚
â”‚ â”‚ 6. Frontend stores in accessStore                           â”‚          â”‚
â”‚ â”‚    isUnlocked = true                                        â”‚          â”‚
â”‚ â”‚    expiresAt = "2026-01-08T08:35:00Z"                       â”‚          â”‚
â”‚ â”‚    â†“                                                        â”‚          â”‚
â”‚ â”‚ 7. Display full results (same 24h window)                   â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ KEY IMPLEMENTATION NOTES                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚ 1. DEPARTMENT FILTERING                                                  â”‚
â”‚    â””â”€ Hard constraint: No cross-department course visibility             â”‚
â”‚                                                                           â”‚
â”‚ 2. UNIVERSITY RANKING                                                    â”‚
â”‚    â”œâ”€ Overall score: 1-100 (general quality)                             â”‚
â”‚    â””â”€ Course score: 1-100 (strength in specific course)                  â”‚
â”‚                                                                           â”‚
â”‚ 3. ACCESS CODES                                                          â”‚
â”‚    â”œâ”€ One-time use enforced with atomic database update                  â”‚
â”‚    â”œâ”€ Race condition safe (tested pattern)                               â”‚
â”‚    â””â”€ 24-hour expiration from first use                                  â”‚
â”‚                                                                           â”‚
â”‚ 4. SHAREABLE LINKS                                                       â”‚
â”‚    â”œâ”€ Backend-persisted (no client-side dependency)                      â”‚
â”‚    â”œâ”€ Direct database queries on link load                               â”‚
â”‚    â”œâ”€ Works across sessions/devices                                      â”‚
â”‚    â””â”€ Secure RLS policies enforced                                       â”‚
â”‚                                                                           â”‚
â”‚ 5. PERFORMANCE                                                           â”‚
â”‚    â”œâ”€ All queries indexed (<100ms)                                       â”‚
â”‚    â”œâ”€ Fallback hardcoded data if DB fails                                â”‚
â”‚    â”œâ”€ Async university loading on frontend                               â”‚
â”‚    â””â”€ Batch queries for efficiency                                       â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š COMPONENT INTERACTION MAP

```
USER INTERACTION FLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Step 1: Assessment
   â”œâ”€ OnboardingStep (name, email)
   â”œâ”€ InterestStep (select interests, score 1-5)
   â”œâ”€ PersonalityStep (select personality traits)
   â”œâ”€ ReviewStep (preview and submit)
   â””â”€ â†’ CRITICAL: Set academicTrack (science|art|commercial)

Step 2: Recommendations
   â”œâ”€ calculateRecommendations(profile)
   â”œâ”€ Filter by COURSE_DEPARTMENT_MAP[course.id] === academicTrack
   â”œâ”€ Score each course (weighted algorithm)
   â”œâ”€ Fetch universities for each course
   â””â”€ â†’ Display: Top 20 courses with universities

Step 3: Result Interaction
   â”œâ”€ Filter by location (Nigeria/Africa/Global)
   â”œâ”€ Sort by fit/future/financial
   â”œâ”€ Click to view course details
   â””â”€ Share or retake assessment

Step 4: Access Control
   â”œâ”€ Paid user? â†’ Show full results
   â”œâ”€ Trial? â†’ Show preview
   â”œâ”€ Have code? â†’ Enter to unlock
   â”‚  â””â”€ validateAccessCode() edge function
   â”‚     â””â”€ Mark as used, grant 24h access
   â””â”€ Have share link? â†’ Load from DB

Step 5: Sharing
   â”œâ”€ Click "Share" button
   â”œâ”€ generateShareToken() â†’ Update DB
   â”œâ”€ Copy link to clipboard
   â”œâ”€ Send to friend
   â””â”€ Friend opens link
      â”œâ”€ loadFromShareToken() â†’ Fetch from DB
      â”œâ”€ Verify expiration (<24h from payment)
      â””â”€ Display full results

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ”„ STATE MANAGEMENT

```
ZUSTAND STORES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

useAssessmentStore
â”œâ”€ State:
â”‚  â”œâ”€ step (0-4)
â”‚  â”œâ”€ profile (UserProfile)
â”‚  â”œâ”€ recommendations (CourseRecommendation[])
â”‚  â””â”€ isComplete (boolean)
â”œâ”€ Actions:
â”‚  â”œâ”€ setStep, nextStep, prevStep
â”‚  â”œâ”€ updateProfile
â”‚  â”œâ”€ completeAssessment â†’ calls calculateRecommendations
â”‚  â””â”€ resetAssessment
â””â”€ Triggers: Assessment completion

useAccessStore (Persisted)
â”œâ”€ State:
â”‚  â”œâ”€ isUnlocked (boolean)
â”‚  â”œâ”€ unlockedAt (ISO string)
â”‚  â”œâ”€ expiresAt (ISO string)
â”‚  â”œâ”€ email (string)
â”‚  â”œâ”€ fullName (string)
â”‚  â””â”€ shareToken (string)
â”œâ”€ Actions:
â”‚  â”œâ”€ validateAccessCode â†’ calls edge function
â”‚  â”œâ”€ checkAccess â†’ checks expiration
â”‚  â”œâ”€ generateShareToken â†’ updates DB
â”‚  â”œâ”€ loadFromShareToken â†’ queries DB
â”‚  â””â”€ clearAccess
â””â”€ Persists: localStorage (pathfinder-access)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

This architecture ensures:
âœ… Strict department enforcement  
âœ… Accurate university recommendations  
âœ… Secure access code system  
âœ… Resilient shareable links  
âœ… Scalable and performant system  
